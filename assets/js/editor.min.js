"use strict";function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}(function(o,t){var a=o.i18n.__,e=o.element,l=e.Fragment,r=e.createElement,u=e.RawHTML,c=o.blockEditor.InspectorControls,i=o.components.PanelBody,s=t.ProductTableColumns,f=t.ProductSelection,m=t.SettingsPanel,y=r,n=y("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},o.element.createElement("path",{d:"M4,21h15.893c1.103,0,2-0.897,2-2V7V5v0l0,0c0-1.103-0.897-2-2-2H4C2.897,3,2,3.897,2,5v14C2,20.103,2.897,21,4,21z M4,19 v-5h4v5H4z M14,7v5h-4V7H14z M8,7v5H4V7H8z M10,19v-5h4v5H10z M16,19v-5h3.894v5H16z M19.893,12H16V7h3.893V12z"}));o.blocks.registerBlockType("barn2/wc-product-table",{title:"WooCommerce Product Table",icon:n,category:"woocommerce",attributes:{columns:{type:"array",default:[]},filters:{type:"array",default:[]},settings:{type:"array",default:[]}},supports:{html:!1,align:["wide","full"]},edit:function(t){var e=t.attributes,r=t.setAttributes,n=o.element.createRef();e.custom;return y(l,null,[y(c,null,[y(i,{title:a("Custom Parameters","wpt-block")},[])]),y("div",{className:"barn2-wc-product-table-block"},[y(s,{columns:e.columns,onChange:function(t){r({columns:t})}}),y(f,{columns:e.columns,onChange:function(t){r({filters:t})},attributes:e,ref:n}),y(m,{onChange:function(t){r({settings:t})},attributes:e})])])},save:function(t){var e="",r=t.attributes;if(r){if(r.columns&&r.columns.length&&(e+=' columns="'+r.columns.join(",")+'"'),r.filters&&r.filters.length){var n,o=_createForOfIteratorHelper(r.filters);try{for(o.s();!(n=o.n()).done;){var a=n.value;e+=" ".concat(a.key,'="').concat(a.value,'"')}}catch(t){o.e(t)}finally{o.f()}}if(r.settings&&r.settings.length){var l,c=_createForOfIteratorHelper(r.settings);try{for(c.s();!(l=c.n()).done;){var i=l.value;if(""!==i.value)if("customFilters"!==i.key){if("filters"===i.key&&"custom"===i.value)continue;e+=" ".concat(i.key,'="').concat(i.value,'"')}else e+=' filters="'.concat(i.value,'"')}}catch(t){c.e(t)}finally{c.f()}}(e=e.trim()).length&&(e=" "+e)}return y(u,{},"[product_table".concat(e,"]"))}})})(window.wp,window.productTableBlockComponents,wcptbNonce);