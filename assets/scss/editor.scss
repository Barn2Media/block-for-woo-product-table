$offset-bg: rgba(139, 139, 150, 0.1);
$link-color: #005d8c;

.editor-styles-wrapper .barn2-wc-product-table-block,
.barn2-wc-product-table-block {
	box-sizing: border-box;
	font-family: -apple-system, system-ui, BlinkMacSystemFont, 
			'Segoe UI', Roboto, 'Helvetica Neue', 
			Ubuntu, Arial, sans-serif;
	line-height: 1;
	padding: 1em;

	background: $offset-bg;
	color: #333333;

	* {
		box-sizing: inherit;
		font-family: inherit;
		color: inherit;
	}

	a, components-button.is-secondary {
		color: $link-color;
	}

	h3, p, li {
		font-size: 13px;
	}
	h3 {
		font-weight: 600;
	}

	.components-placeholder__label {
		display: flex;
		align-items: center;
	}

	.components-placeholder__fieldset {
		display: flex;
		flex-direction: column;
		align-items: stretch;
	}

	&__options {
		margin-top: 1em;
		padding-top: 1em;
		border-top: 1px solid $offset-bg;
		display: flex;
		align-items: flex-start;

		> * {
			flex: 0 1 50%;
		}
	}

	&__products {
		margin-left: 1em;
	}


	overflow: visible;

	.empty-options {
		font-style: italic;
		flex: 1 1 100%;
	}
	
	.table-column-options:not(:empty) ~ p.empty-options {
		display: none;
	}

	&__columns {
		display: flex;
		align-items: stretch;
		justify-content: flex-start;
		flex-wrap: wrap;

		h3, p {
			flex: 1 1 100%;
		}

		ul:not(:empty) ~ p.empty-options {
			display: none;
		}
	}

	&__column-selector,
	&__attribute-selector,
	&__custom-input {
		margin: 0 0.5em 0 0;
		height: 36px;
		
		&.selected {
			//flex: 0 0 75%;
		}

		&.selected ~ .barn2-wc-product-table-block__add-column-button {
			display: block;
		}
	}

	&__add-column-button {
		display: none;
	}

	&__column-selector:not(.select-attribute) ~ .barn2-wc-product-table-block__attribute-selector,
	&__column-selector:not(.select-custom) ~ .barn2-wc-product-table-block__custom-input {
		display: none;
	}

	&__columns-selected {
		list-style: none;
		flex: 1 1 100%;
		display: flex;
		flex-direction: column;
		margin: 0;
		padding: 0;
		text-align: left;
		line-height: 1;

		li {
			margin: 0;
			padding: 0.5em;
			background: $offset-bg;
			line-height: inherit;
			cursor: grab;
			line-height: 1;
			display: flex;
			justify-content: stretch;
			align-items: center;

			&:hover {
				outline: 1px solid rgba( $link-color, 0.5 );
				> svg {
					fill: rgba( $link-color, 0.5 );
				}
			}

			span {
				flex: 1 1 auto;
				margin-left: 1em;
				margin-right: 1em;

				strong + em {
					font-weight: normal;
					font-style: normal;
					&::before {
						content: ': ';
					}
				}
			}
			+ li {
				margin-top: 0.5em;
			}
			
			> svg {
				fill: rgba(139, 139, 150, 0.25);
			}
		}

		&:not(:empty) {
			margin-top: 10px;
			margin-bottom: 10px;
		}
	}

	.save-table-columns-button, .open-settings-panel-button {
		align-self: flex-end;
		background: #191e23;
		color: white;

		flex: 0 0 auto;
		margin-left: auto;
	}

	.product-selection-query {
		background: white;
		border: 1px solid #191e23;
		border-top: none;
		padding: 10px;
		width: 100%;
		text-align: center;
		
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		justify-content: center;

		.product-selection-filters {
			flex: 1 1 100%;
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			align-items: stretch;

			list-style: none;
			margin: 0 0 10px 0;
			padding: 0;

			&:empty {
				display: none;
			}

			li {
				display: flex;
				align-items: center;
				margin: 0 5px;
				padding: 5px 5px 5px 10px;
				background: #eeeeee;

				button {
					padding: 0;
					margin-left: 5px;
					height: 24px;
					width: 24px;
					display: flex;
					align-items: center;
					justify-content: center;;
				}
			}
		}
	}

	.customize-filter-wrapper {
		margin-left: 10px;
	}

	.customize-filters-button,
	.customize-filters-save-button,
	.customize-filters-add-button {
		padding: 5px;
		border-radius: 3px;
		background: #191e23;
		color: white;
		line-height: 1;
		height: auto;
	}

	.customize-filters-button[aria-expanded="false"] ~ .customize-filters-modal,
	.open-settings-panel-button[aria-expanded="false"] ~ .table-settings-panel-modal {
		display: none;
	}

	.customize-filter-add-new-selection {
		margin: 5px 0 0 0;
		&.selected {
			flex: 0 0 75%;
		}
	}

	.customize-filter-new-option {
		margin: 5px 0 0 0;
		flex: 1 1 100%;
		&:not(.visible) {
			display: none;
		}

		&.selected {
			flex: 0 0 75%;
		}
	}
	input {
		border: 1px solid #999999;
		padding: 5px;
		font-size: 13px;
		border-radius: 3px;
	}

	.customize-filter-selections:empty {
		display: none;
	}

	.customize-filters-add-button {
		flex: 0 0 calc( 25% - 5px );
		margin-left: auto;
		margin-top: 5px;
		align-self: stretch;
	}

	.customize-filters-save-button,
	.customize-filters-add-button,
	.customize-filters-andor {
		display: none;
	}

	.customize-filters-andor {
		align-self: center;
		margin-top: 5px;
		.components-base-control__field {
			margin-bottom: 0;
		}
	}

	.selected ~	.customize-filters-add-button,
	.customize-filter-selections:not(:empty) ~ .customize-filters-save-button,
	.allow-andor .customize-filter-selections:not(:empty) ~ .customize-filters-andor {
		display: block;
	}

	.customize-filters-save-button {
		flex: 0 1 30%;
		margin-left: auto;
		margin-top: 5px;
		height: 30px;
	}

	ul.customize-filter-selections {
		flex: 1 1 100%;
		display: flex;
		flex-wrap: wrap;
		list-style: none;
		justify-content: center;
		margin: 0;
		padding: 0;
		li {
			padding: 5px;
			background: #eeeeee;
			margin: 0 2.5px 5px 0;
		}
	}


}